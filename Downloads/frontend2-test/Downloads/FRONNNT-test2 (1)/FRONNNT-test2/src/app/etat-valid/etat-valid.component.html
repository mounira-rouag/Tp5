<div class="row justify-content-center" style="margin-top: 15px;">
    <div class="col-md-3">
        <mat-form-field appearance="fill" class="example-full-width">
            <mat-label> Search By Version</mat-label>
            <mat-select name="receiveData.maj" id="nomMaj" [(ngModel)]="selectedVersion" >
                <mat-option *ngFor="let maj of majs" [value]="maj">{{maj.nomMaj}}</mat-option>
            </mat-select>
        </mat-form-field>
    </div>

    <div class="col-md-2 text-center">
        <div class="hstack gap-3">
            <button class="btn-search" (click)="searchCDCByFilters()">SEARCH</button>
        </div>
    </div>
</div>

<div class="container">
    <ng-template pTemplate="caption">
        <div class="flex">
            <p>hello</p>
            <button type="button" pButton pRipple icon="pi pi-file-excel"  class="p-button-success mr-2" pTooltip="XLS" tooltipPosition="bottom"></button>

        </div>
    </ng-template>
    <p-table #dt1 styleClass="p-datatable-sm" [value]="alldev" dataKey="id" [rows]="10" [showCurrentPageReport]="true"
      [rowsPerPageOptions]="[10, 25, 50]" [paginator]="true"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} Developpments"
      [globalFilterFields]="['id' , 'devname' ,'etatdev.nomEtatDev','refcdc','Cdcname', 'dll','famille','nomEcu','Bug','Developer','Jira']"
      [tableStyle]="{ 'min-width': '150rem' }" selectionMode="single" 
      [loading]="loading">


      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="id">
            Id
          </th>
          <th pSortableColumn="id">
            Dev-Name
          </th>
          <th pSortableColumn="etatdev.nomEtatDev">
            Dev-Status
          </th>
          <th pSortableColumn="cdc.refCdc">
            CDC-Ref
          </th>
          <th pSortableColumn="cdc.nomCdc">
            CDC-Name
          </th>
          <th pSortableColumn="dll">
           Signature
          </th>
          <th pSortableColumn="ecu.famille.nomfamille">
            Site
          </th>
          <th pSortableColumn="nomEcu">
            Developer
          </th>
          <th pSortableColumn="Bug">
           Unitaire Test
          </th>
          <th pSortableColumn="user.username">
          Integration Test
          </th>
        </tr>
        <tr>
          <th> <p-columnFilter type="text" field="id"></p-columnFilter></th>
          <th> <p-columnFilter type="text" field="devname"></p-columnFilter></th>
          <th> <p-columnFilter type="text" field="etatdev.nomEtatDev"></p-columnFilter></th>
          <th> <p-columnFilter type="text" field="cdc.refCdc"></p-columnFilter></th>
          <th> <p-columnFilter type="text" field="cdc.Cdcname"></p-columnFilter></th>
          <th> <p-columnFilter type="text" field="cdc.SignatureOk"></p-columnFilter></th>
          <th> <p-columnFilter type="text" field="cdc.sites.nomSite"></p-columnFilter></th>
          <th> <p-columnFilter type="text" field="user.username "></p-columnFilter></th>
          <th> <p-columnFilter type="text" field="Bug"></p-columnFilter></th>
          <th> <p-columnFilter type="text" field="Bug"></p-columnFilter></th>



        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-alldev>
        <tr>
          <td>
            {{ alldev?.id ?? '__'}}
          </td>
          <td>
            {{ alldev?.devname ?? '__'}}
          </td>
          <td>
            {{ alldev?.etatdev?.nomEtatDev ?? '__'}}
          </td>
          <td>
            {{ alldev.cdc?.refCdc ?? '__'}}
          </td>
          <td>
            {{ alldev.cdc?.nomCdc ?? '__'}}
          </td>
          <td>
            {{ alldev?.cdc.signatureOk ?? '__'}}
          </td>
          <td>
            {{ alldev?.cdc.sites.nomSite ?? '__'}}
          </td>
          <td>
            {{ alldev?.user?.username ?? '__'}}
          </td>
          <td>
            {{ alldev?.numBug ?? '__'}}
          </td>
          <td>
            {{ '__'}}
          </td> 
        </tr>
      </ng-template>

    </p-table>
  </div>
